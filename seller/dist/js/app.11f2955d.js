(function(e){function t(t){for(var c,n,s=t[0],i=t[1],u=t[2],d=0,h=[];d<s.length;d++)n=s[d],o[n]&&h.push(o[n][0]),o[n]=0;for(c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c]);l&&l(t);while(h.length)h.shift()();return r.push.apply(r,u||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],c=!0,s=1;s<a.length;s++){var i=a[s];0!==o[i]&&(c=!1)}c&&(r.splice(t--,1),e=n(n.s=a[0]))}return e}var c={},o={app:0},r=[];function n(t){if(c[t])return c[t].exports;var a=c[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=c,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)n.d(a,c,function(t){return e[t]}.bind(null,c));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=i;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var c=a("2b0e"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{attrs:{id:"select"}},[a("select-box",{attrs:{checkBoxData:e.selectRegion},on:{selectChange:e.getSelectRegion}}),a("select-box",{attrs:{checkBoxData:e.selectProduct},on:{selectChange:e.getSelectProduct}})],1),a("div",{attrs:{id:"tableWrapper"}},[a("show-table",{attrs:{tableData:e.selectSourceData,selectProductNum:e.checkedProduct.length,selectRegionNum:e.checkedRegion.length}})],1)])},r=[],n=(a("ac6a"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"selectBoxWrapper"},[a("h2",[e._v(e._s(e.checkBoxData.type))]),a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.toggle,expression:"toggle"}],attrs:{type:"checkbox",id:"selectAll",value:"全选","true-value":"yes","false-value":"no"},domProps:{checked:Array.isArray(e.toggle)?e._i(e.toggle,"全选")>-1:e._q(e.toggle,"yes")},on:{click:e.selectAll,change:function(t){var a=e.toggle,c=t.target,o=c.checked?"yes":"no";if(Array.isArray(a)){var r="全选",n=e._i(a,r);c.checked?n<0&&(e.toggle=a.concat([r])):n>-1&&(e.toggle=a.slice(0,n).concat(a.slice(n+1)))}else e.toggle=o}}}),e._v("全选\n  ")]),e._l(e.checkBoxData.data,function(t){return[a("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedItems,expression:"checkedItems"}],key:t.id,attrs:{type:"checkbox",id:t.id},domProps:{value:t.value,checked:Array.isArray(e.checkedItems)?e._i(e.checkedItems,t.value)>-1:e.checkedItems},on:{change:function(a){var c=e.checkedItems,o=a.target,r=!!o.checked;if(Array.isArray(c)){var n=t.value,s=e._i(c,n);o.checked?s<0&&(e.checkedItems=c.concat([n])):s>-1&&(e.checkedItems=c.slice(0,s).concat(c.slice(s+1)))}else e.checkedItems=r}}}),a("label",{key:t.value,attrs:{for:"checkbox.id"}},[e._v(e._s(t.value))])]})],2)}),s=[],i={name:"",props:{checkBoxData:Object},data:function(){return{toggle:"no",checkedItems:[]}},created:function(){this.checkBoxNum=this.checkBoxData.data.length},watch:{checkedItems:function(){this.checkedItems.length==this.checkBoxNum?"no"==this.toggle&&(this.toggle="yes"):"yes"==this.toggle&&(this.toggle="no"),this.$emit("selectChange",this.checkedItems)}},methods:{selectAll:function(){var e=this;"yes"==this.toggle?(this.toggle="no",this.checkedItems=[]):(this.toggle="yes",this.checkBoxData.data.forEach(function(t){-1==e.checkedItems.indexOf(t.value)&&e.checkedItems.push(t.value)}))}}},u=i,l=a("2877"),d=Object(l["a"])(u,n,s,!1,null,"743e258a",null),h=d.exports,f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("table",{directives:[{name:"show",rawName:"v-show",value:e.selectProductNum>0&&e.selectRegionNum>0,expression:"selectProductNum>0&&selectRegionNum>0"}],attrs:{id:"myTable"}},[a("thead",[a("tr",[a("th",[e._v(e._s(e.firstTrName))]),a("th",[e._v(e._s(e.secondTrName))]),a("th",[e._v("1月")]),a("th",[e._v("2月")]),a("th",[e._v("3月")]),a("th",[e._v("4月")]),a("th",[e._v("5月")]),a("th",[e._v("6月")]),a("th",[e._v("7月")]),a("th",[e._v("8月")]),a("th",[e._v("9月")]),a("th",[e._v("10月")]),a("th",[e._v("11月")]),a("th",[e._v("12月")])])]),a("tbody",e._l(e.data,function(t,c){return a("tr",{key:c},[e.selectProductNum==e.selectRegionNum&&1==e.selectProductNum?[a("td",[e._v(e._s(t.product))]),a("td",[e._v(e._s(t.region))])]:e.selectRegionNum>e.selectProductNum?[c%3==0?a("td",{attrs:{rowspan:e.selectRegionNum}},[e._v(e._s(t.product))]):e._e(),a("td",[e._v(e._s(t.region))])]:e.selectProductNum>=e.selectRegionNum&&e.selectProductNum>1?[c%3==0?a("td",{attrs:{rowspan:e.selectProductNum}},[e._v(e._s(t.region))]):e._e(),a("td",[e._v(e._s(t.product))])]:e._e(),e._l(t.saleTd,function(c,o){return a("td",{key:o},[a("span",{directives:[{name:"show",rawName:"v-show",value:"editting"===c.tdTab,expression:"item.tdTab === 'editting'"}]},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.saleTd[o].saleNum,expression:"dataItem.saleTd[index].saleNum"}],domProps:{value:t.saleTd[o].saleNum},on:{keyup:function(t){return"keyCode"in t&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setEdited(c)},input:function(a){a.target.composing||e.$set(t.saleTd[o],"saleNum",a.target.value)}}}),a("i",{staticClass:" icon-checkmark",on:{click:function(t){return e.setEdited(c)}}}),a("i",{staticClass:"icon-cross",on:{click:function(t){return e.setEdited(c)}}})]),a("span",{directives:[{name:"show",rawName:"v-show",value:"edited"===c.tdTab,expression:"item.tdTab === 'edited'"}],staticClass:"edited"},[a("span",[e._v(e._s(c.saleNum))]),a("i",{staticClass:"icon-pencil none editBtn",on:{click:function(t){return e.setEditting(c)}}})])])})],2)}),0)])},g=[],p=a("f499"),m=a.n(p),v=(a("c5f6"),{name:"showTable",props:{tableData:Array,selectProductNum:Number,selectRegionNum:Number},data:function(){return{secondTrName:"",firstTrName:"",data:[],storeData:[]}},methods:{saleTdObj:function(e){var t={};return t.saleNum=e,t.tdTab="edited",t},setEdited:function(e){e.tdTab="edited",this.renderStoreData(),localStorage.setItem("sourceData",m()(this.storeData))},setEditting:function(e){e.tdTab="editting"},renderData:function(){var e=this;this.data=[],this.tableData.forEach(function(t){var a={};a.product=t.product,a.region=t.region,a.saleTd=[],t.sale.forEach(function(t){a.saleTd.push(new e.saleTdObj(t))}),e.data.push(a)}),console.log(this.data);var t=this.selectProductNum,a=this.selectRegionNum;a>t?(this.firstTrName="产品",this.secondTrName="地区"):(this.firstTrName="地区",this.secondTrName="产品")},renderStoreData:function(){var e=this;this.storeData=[],this.data.forEach(function(t){var a={};a.product=t.product,a.region=t.region,a.sale=[],t.saleTd.forEach(function(e){a.sale.push(e.saleNum)}),e.storeData.push(a)})}},watch:{tableData:function(){this.renderData()}}}),k=v,_=(a("61ae"),Object(l["a"])(k,f,g,!1,null,"01e881c7",null)),b=_.exports,N={name:"app",components:{selectBox:h,showTable:b},data:function(){return{selectRegion:{type:"地区",data:[{id:"east",value:"华东"},{id:"north",value:"华北"},{id:"south",value:"华南"}]},selectProduct:{type:"产品",data:[{id:"phone",value:"手机"},{id:"Laptop",value:"笔记本"},{id:"Audio",value:"智能音箱"}]},checkedRegion:[],checkedProduct:[],sourceData:[{product:"手机",region:"华东",sale:[120,100,140,160,180,185,190,210,230,245,255,270]},{product:"手机",region:"华北",sale:[80,70,90,110,130,145,150,160,170,185,190,200]},{product:"手机",region:"华南",sale:[220,200,240,250,260,270,280,295,310,335,355,380]},{product:"笔记本",region:"华东",sale:[50,60,80,110,30,20,70,30,420,30,20,20]},{product:"笔记本",region:"华北",sale:[30,35,50,70,20,15,30,50,710,130,20,20]},{product:"笔记本",region:"华南",sale:[80,120,130,140,70,75,120,90,550,120,110,100]},{product:"智能音箱",region:"华东",sale:[10,30,4,5,6,5,4,5,6,5,5,25]},{product:"智能音箱",region:"华北",sale:[15,50,15,15,12,11,11,12,12,14,12,40]},{product:"智能音箱",region:"华南",sale:[10,40,10,6,5,6,8,6,6,6,7,26]}],selectSourceData:[]}},methods:{getSelectRegion:function(e){this.checkedRegion=e},getSelectProduct:function(e){this.checkedProduct=e},selectData:function(e,t,a){for(var c=[],o=e.length,r=t.length,n=[],s=0;s<o;s++)for(var i=0;i<r;i++){var u=[];u.push(e[s]),u.push(t[i]),c.push(u)}return c.forEach(function(e){a.forEach(function(t){t.product==e[0]&&t.region==e[1]&&n.push(t)})}),n}},watch:{checkedRegion:function(){var e=[],t=[],a=[];this.checkedProduct.forEach(function(e){a.push(e)}),this.checkedRegion.forEach(function(e){t.push(e)}),e=localStorage.getItem("sourceData")?JSON.parse(localStorage.getItem("sourceData")):this.sourceData,this.selectSourceData=this.selectData(a,t,e)},checkedProduct:function(){var e=[],t=[],a=[];this.checkedProduct.forEach(function(e){a.push(e)}),this.checkedRegion.forEach(function(e){t.push(e)}),e=localStorage.getItem("sourceData")?JSON.parse(localStorage.getItem("sourceData")):this.sourceData,this.selectSourceData=this.selectData(a,t,e)}}},y=N,D=(a("7faf"),Object(l["a"])(y,o,r,!1,null,null,null)),x=D.exports;a("aebb");c["a"].config.productionTip=!1,new c["a"]({render:function(e){return e(x)}}).$mount("#app")},"61ae":function(e,t,a){"use strict";var c=a("d968"),o=a.n(c);o.a},"7faf":function(e,t,a){"use strict";var c=a("8fba"),o=a.n(c);o.a},"8fba":function(e,t,a){},aebb:function(e,t,a){},d968:function(e,t,a){}});
//# sourceMappingURL=app.11f2955d.js.map